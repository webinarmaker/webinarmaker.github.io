# WebinarMaker

## WebinarMakerの概要

WebinarMakerは、録画されたセミナー動画を使用して、定期的かつ自動でウェブセミナーを開催できるサービスです。
一般的なセミナーのように、開催時間になるとセミナー動画の再生が始まります。
セミナー途中の時間であっても、その時間に基づいて動画は途中から再生され、ウェビナーのように振る舞います。
動画が最後まで再生されると、セミナー終了となります。

WebinarMakerでは動画共有サイトを使用します。
セミナー用の動画を撮影および編集して投稿し、そのURLをWebinarMakerに設定します。
ウェビナーに申し込みをした申し込みユーザは視聴用ページにて視聴できます。

WebinarMakerが対応している動画共有サイトは次のとおりです。

  * [Vimeo](https://vimeo.com/)
  * [YouTube](https://www.youtube.com/)

WebinarMakerはウェビナーの申込者に対して独自ドメインの定型メールメッセージを送信できます。
ウェビナー開始前や後に、自由なメールメッセージを送信して、関連情報や特典を提供します。

## 開始方法

WebinarMakerを使って、ウェビナーを実施する基本的なステップを開始します。

### ステップ1: WebinarMakerにログイン

WebinarMakerのログイン画面(https://webinarmaker.jp/signin)にアクセスして、ログイン情報を入力します。
ログイン情報はアカウントが作成された時に送信されたメールに記載されています。

### ステップ2: ウェビナーの作成

毎日13時と19時に開催されるウェビナーを作成します。

**ウェビナーを作成するには**

  1. WebinarMakerにログインした状態で、 https://webinarmaker.jp/dashboard にアクセスします。
  2. 画面右下の「ウェビナー作成」を選択します。
  3. タイトルにウェビナーのタイトルを入力します。
  4. ビデオにはウェビナー動画のYouTube URL(https://www.youtube.com/watch?v=XXXXXXXXXXX)を入力します。
  5. スケジュールに `0 13,19 * * ?` を入力します。
  6. 「作成」を選択します。
  7. ウェビナーが作成され、ウェビナーの管理画面に遷移します。

ビデオに入力できるURLの詳細は[ビデオの入力方法](#ビデオの入力方法)を参照してください。

### ステップ3: タグの作成と申込みフォームの掲載

作成したウェビナーに対して、申し込みユーザから申し込みを受付けるために、タグを作成してフォームを表示します。
申し込みフォームはランディングページ等に表示させるために、HTMLタグを発行します。

HTMLタグから申し込みフォームを表示するときは、掲載されるページのオリジンを予め指定します。
申し込みフォームは指定したオリジンのページでのみ表示されます。
オリジンの詳細は[同一オリジンポリシー - Web セキュリティ | MDN](https://developer.mozilla.org/ja/docs/Web/Security/Same-origin_policy)を参照してください。

**タグを作成して、申し込みフォームを表示するには**

  1. ウェビナーの管理画面から「タグを作成する...」を選択します。
  2. タグを識別するための名前と、タグが表示されるページのオリジンを入力します。
  4. 「作成」を選択します。
  5. タグが作成され、ウェビナー管理画面のタグが更新されます。
  6. 作成されたタグにある、「タグを表示」を選択します。
  7. 表示されたHTMLのタグをコピーして、掲載ページにペーストします。
  8. 掲載ページにアクセスして、該当する箇所に申し込みフォームが表示されます。

### ステップ4: 申し込みユーザによるウェビナーの申し込み

ステップ3まではアカウントによるウェビナーのセットアップ手順を示しました。
ステップ4とステップ5は、ウェビナーに参加を申し込むユーザによるステップを示します。

ウェビナーに申し込むユーザは、申し込みフォームが掲載されたページから、フォームを入力して申込みを完了できます。
申し込みフォームには名前とメールアドレス、ウェビナーの参加日時を入力します。
申込みが完了すると、入力されたメールアドレス宛にウェビナーを視聴するページのURLを含むサンクスメールが送信されます。

### ステップ5: 申し込みユーザのウェビナー視聴

前のステップで送信されたサンクスメールの中に、視聴ページのURLが掲載されています。
申し込みユーザは申し込みをした内容に基づいた開催時間にウェビナー動画を視聴できます。
ウェビナー開催前は、開催までの時間が表示され、開催時間になると自動で動画が再生されます。

### ステップ6: ウェビナーの申し込みユーザ管理

ステップ6では再びアカウントによるステップに戻ります。
ステップ4およびステップ5により、申し込みされたユーザを確認します。

**ウェビナーに申し込みしたユーザを確認するには**

  1. WebinarMaker管理画面より、ウェビナーのページにアクセスします。
  2. ページ上部の「申込みユーザ」を選択します。
  3. 開始日および終了日を選択して、確認したい期間を指定します。
  4. 指定した期間内にウェビナーを視聴する申し込みユーザが表示されます。

以上がWebinarMakerを用いたウェビナーの実施フローです。
ウェビナーの詳細な設定項目を使用すれば、振る舞いを変更することができます。
また、独自ドメインによるメールの配信機能も提供しています。
詳細は各セクションを参照してください。

## アカウントの設定

WebinarMakerのアカウントは複数のウェビナーを運用できます。
すべてのウェビナーに共通した、ウェビナー主催者としてアカウントの設定を行います。

アカウントの設定画面はWebinarMakerログイン後の管理画面において、右上のアカウント名を選択して表示します。
アカウントの設定は「アカウント情報」と「メール送信設定」の２つの画面があります。
メール送信設定は「独自ドメインによるメール配信」に必要な設定です。

### アカウント情報

  1. `アカウント名` アカウントの名前を設定します。
     これはこのアカウントで作成されるすべてのウェビナーの主催者名として使用されます。
  2. `メールアドレス` アカウントに紐付いたメールアドレスを設定します。
     ログイン情報のユーザIDを表します。
  3. `申し込みユーザから連絡用メールアドレス` ウェビナーに申し込みをした申込みユーザがウェビナー主催者に連絡するためのメールアドレスを設定します。
     申し込みユーザに対して送信されるサンクスメールに記載されます。

### パスワード更新

アカウントにログインするパスワードを変更できます。
現在のパスワードを入力した上で、新しいパスワードを入力して更新します。

### メール送信設定

メール送信設定は、独自ドメインによるメール配信機能を使用する上で、必要なメールの送信情報を設定します。
ウェビナーに設定したメール配信は、申し込みユーザに対して独自のメールメッセージを独自のメールアドレスから送信します。
送信元となるメールアドレスと、そのメールアドレスからメールを送信するSMTP情報を設定します。
なお、この設定はアカウントが作成したすべてのウェビナーのメール配信に使用されます。

  1. `差出人メールアドレス` メール配信の差出人メールアドレス( FROM )を指定します。
     これは `差出人名 <from@example.com>` のようにRFC 5322にあった形式で入力できます。
  2. `SMTPホスト名`、`SMTPポート番号`、`SMTPユーザ名`、`SMTPパスワード` 差出人メールアドレスからメールを送信するSMTP情報を指定します。
  3. `SSLを使用する` メールを送信する際にSSLを使用するかを指定します。

テスト送信は、メールの送信設定がメールを送信するために正しく設定されているかをテストします。
テストメールはメール送信設定による差出人からアカウントのメールアドレスに送信されます。
「テストメールを送信する」を選択してテストメールを送信して、アカウントのメールアドレス宛にテストメールが送信されていることを確認してください。
なお、テストメールの送信は、メール送信設定より更新を選択し、情報を更新した上で行います。

## ウェビナーの設定

WebinarMakerではウェビナーを運用するにあたり、振る舞いを変更できるオプションが用意されています。
開始方法のセクションで説明した基本的な流れで触れていない項目を説明します。

### ウェビナーの基本設定項目

ウェビナーの作成および、作成済みのウェビナーに対する編集で設定できる項目を説明します。

  1. `タイトル` ウェビナーのタイトルを設定します。
  2. `説明` ウェビナーの説明文を設定します。
     これは視聴用ページに常に表示されます。
     ウェビナーの概要や趣旨などを記述できます。
  3. `ビデオ` 録画済みのウェビナー動画を設定します。
     これはWebinarMakerでサポートしている動画ホスティングサイトのURLを入力します。
     ビデオの入力方法に関する詳細は[ビデオの入力方法](#ビデオの入力方法)を参照してください。
  4. `電話番号の取り扱い` 申込ユーザがウェビナーを申し込む歳に、電話番号の取り扱いを設定します。
     「非表示」は申し込みフォームから電話番号の入力フィールドが表示されません。
     「表示」は申し込みフォームに電話番号の入力フィールドが表示されますが、入力は任意として扱います。
     「必須」は申し込みフォームに電話番号の入力フィールが表示され、入力を必須として扱います。
  5. `申込後リダイレクトURL` 申し込みが完了したあと、指定したページへのリダイレクトを設定できます。
     フォーム入力後、「申し込み」を選択すると、フォーム掲載ページから申込後リダイレクトURLに遷移します。
  6. `視聴後リダイレクトURL` ウェビナーの視聴が完了したあと、指定したページへのリダイレクトを設定できます。
     ウェビナーの動画終わると、自動で視聴後リダイレクトURLに遷移します。
  7. `タイムゾーン` ウェビナーの開催時間を決定するタイムゾーンを設定します。
     ウェビナーのスケジュールおよび開催時間はこのタイムゾーンで決定しています。
     現在サポートされているタイムゾーンは日本時間のみです。
  8. `スケジュール` ウェビナーの定期的な開催日時を指定します。
     スケジュールの入力方法に関する詳細は[スケジュールの入力方法](#スケジュールの入力方法)を参照してください。
  9. `申込可能開始日数` と `申込可能終了日数` は申し込みできる日時を制限するための期間を設定します。
     これは省略可能です。
     詳細は[申込日時の制限](#申込日時の制限)を参照してください。
  10. `視聴用ページの詳細設定` はウェビナーの視聴用ページの表示をカスタマイズする設定をします。
      詳細は[視聴用ページの独自コンテンツ表示](#視聴用ページの独自コンテンツ表示)を参照してください。

#### ビデオの入力方法

ビデオの入力はURL形式で指定します。
なお、これらのURLはWebinarMakerの内部表現に変換されます。
この内部表現は動画共有サイトとその動画を識別するIDを含んでいます。

**Vimeoの動画を入力できるURLの一覧**

  * `https://vimeo.com/XXXXXXXX`
  * `https://player.vimeo.com/video/XXXXXXXX`
  * `vimeo:///XXXXXXXX` WebinarMakerの内部表現です

**YouTubeの動画を入力できるURLの一覧**

  * `https://youtu.be/XXXXXXXXXXX`
  * `https://youtube.com/watch?v=XXXXXXXXXXX`
  * `https://www.youtube.com/watch?v=XXXXXXXXXXX`
  * `yt:///XXXXXXXXXXX` WebinarMakerの内部表現です

#### スケジュールの入力方法

スケジュールには空白で区切られた6つのフィールを入力します。
フィールドは左から順に、分、時間、日、月、曜日、年を表します。
曜日は`1`が日曜日で、`7`が土曜日を表します。
なお、年は省略可能です。

| フィールド | 値        | ワイルドカード |
| ---------- | --------- | -------------- |
| 分         | 0-59      | , - * /        |
| 時間       | 0-23      | , - * /        |
| 日         | 1-31      | , - * ? / L W  |
| 月         | 1-12      | , - * /        |
| 曜日       | 1-7       | , - * ? L #    |
| 年         | 1970-2199 | , - * /        |


ワイルドカードの詳細は次のとおりです

  * ワイルドカード `,` は追加の値を指定します。時間フィールドで `13,19` は13時と19時を指定します。
  * ワイルドカード `-` は範囲を指定します。日フィールドで `1-14` は1日から14日を指定します。
  * ワイルドカード `*` はすべての値を指定します。月フィールドで `*` を指定すると毎月の指定です。
    ただし、`*` を日フィールドと曜日フィールドで同時に指定することはできません。
    片方を`*`に指定した場合、他方は`?`を指定します。
  * ワイルドカード `/` は増分を指定します。日フィールドで`1/3`は1日、4日、7日・・・と指定します。
  * ワイルドカード `L` は月または週の最終日を指定します。
  * ワイルドカード `W` は平日を指定します。
  * ワイルドカード `#` は月の中で曜日の回数を指定します。たとえば`3#2`は月の第２火曜日を指定します。3は火曜日を表し、2は月の中で第2を表します。

#### 申込日時の制限

ウェビナーが開催される開始時間およびその申込日時はスケジュールに従って、決定されます。
例えば、スケジュールが `0 19 * * ?` のように設定すると、毎日19時のウェビナーを申し込みできる日時が決定します。
申し込みフォームでは現在より将来の日時が表示および選択できます。

申込日時の制限機能は申し込みフォームに表示されるウェビナー開始の候補日時を日単位で制限できます。
これはスケジュールが指定された制限期間に限定します。
制限期間は現在日から日数単位で、開始日数と終了日数で設定します。

先の例では、この制限期間を設定しない場合、将来時間に限って本日の19時が申込可能となります。
現在時刻が18時であれば本日の19時が表示されますが、20時であれば本日の19時は表示されません。
これに対し、制限期間の開始日数を設定して、現在日から申込可能な最短の日数を制限します。
開始日数を`1`にすると、申込可能な日時が1日後（明日）以降に制限されます。
本日の時間が何時であれ、本日の19時は選択できず、明日の19時が最初の候補日時となります。
また同様に、終了日数も現在日から申込可能な最長日数を制限できます。

この制限期間はウェビナーの設定画面で設定できます。

### タグ

タグはウェビナーに申し込みをするためのフォームを表示する機能を持つHTMLタグを生成します。
このタグはフォームを掲載するページに貼り付けて、既存のサイトにウェビナーの申し込み機能を統合します。

このタグは掲載するページのオリジン毎に作成します。
指定したオリジンのタグは、同じオリジンの掲載ページやサイトで表示できます。
異なるオリジンでは機能しません。
これはウェブのセキュリティにおいて、同一オリジンポリシーと似た考え方に基づいて実装されています。

オリジンとはスキーム、ドメインおよびポート番号からなるURLの一部です。
例えば、`https://example.com/dir/to/page.html`のオリジンは`https://example.com`です。
`/dir/to/page.html`はいかなる有効なURLであっても同じオリジンです。
一方`http://example.com`はスキーム(`http://`)の違いから異なるオリジンとなります。
オリジンの詳細は[同一オリジンポリシー - Web セキュリティ | MDN](https://developer.mozilla.org/ja/docs/Web/Security/Same-origin_policy)を参照してください。

タグは同一のウェビナーにおいて、申し込みフォームを掲載するページのオリジン毎に複数作成できます。
タグは名前と対応するオリジンを入力して作成します。

タグの名前は識別しやすい名前を自由につけることができます。
申し込みユーザはどのタグによって表示されたフォームから申し込みをしたかを、タグの名前から判断できます。
つまりウェビナーに対する申し込みの経路を特定するために、タグを分けて掲載する運用ができます。

なお、オリジンの指定は申し込みフォームのセキュリティを考慮した制限です。
同じオリジンを指定した複数のタグを作成することもできます。

#### フォームのデザイン

タグの作成および設定画面では、そのタグにより表示される申し込みフォームの見た目を変更できる設定項目があります。
「申し込みキャプション」は申し込みのボタンの表示テキストを変更できます。

また「フォームのCSS」は申し込みフォーム内で適用されるCSSを設定できます。
これは見た目を大きく変更できる高度なオプションです。
フォームには、CSSによるデザインを実装するために、次に示すidが設定されています。
「フォームのCSS」ではこれらのidをセレクタとして使用できます。

  * `gi_name`
  * `tf_name`
  * `gi_email`
  * `tf_email`
  * `gi_play_at`
  * `tf_play_at`
  * `gi_submit`
  * `submit`

#### 視聴用ページの独自コンテンツ表示

ウェビナーの視聴用ページにはデフォルトで、動画、ウェビナーのタイトルおよび説明が表示されます。
視聴用ページの独自コンテンツ表示機能を使用すると、iframeを使ったアカウント独自のコンテンツを表示できます。

ウェビナーの設定画面においてiframeのURLを設定すると、視聴用ページの下部にiframeを使って指定したページを表示します。
同時にそのiframe自身のインラインCSSを指定して、サイズやその他cssプロパティを設定して、視聴用ページをカスタマイズできます。

### 申し込みユーザ

申し込みユーザはウェビナー管理画面の中で確認できます。
ウェビナー開催日時が指定した開始日および終了日の範囲で絞って表示されます。
また、このデータはUTF-8でエンコードされたCSV形式でダウンロードできます。

確認できる項目は次のとおりです。

| 項目             | csv項目名    | 説明                           |
| ---------------- | ------------ | ------------------------------ |
|                  | `id`         | 申し込みユーザのID             |
|                  | `webinar_id` | ウェビナーのID                 |
| タグ名           | `tag_name`   | 申し込みをしたフォームのタグ   |
| 名前             | `name`       | 申し込みユーザの名前           |
| メール           | `email`      | 申し込みユーザのメールアドレス |
| 電話番号         | `phone`      | 申し込みユーザの電話番号       |
| 申込日時         | `created_at` | 申し込みされた日時             |
| セミナー開催日時 | `play_at`    | 申し込みされた開催日時         |
| 視聴情報         | `viewed`     | 現在の視聴情報                 |

CSVの視聴情報は`100`が視聴ありを表します。

### メール配信

メール配信の画面では、独自ドメインによるメールの配信を行うための設定を行います。
独自ドメインによるメール配信の概要は[こちら](#独自ドメインによるメール配信)のセクションを参照してください。

#### サンクスメールの概要

サンクスメールとは、申込者がウェビナーに申し込みをした直後に送信されるメールを意味します。
これは申し込みが完了したことを通知することに加え、ウェビナーが試聴できる専用のURLをお知らせするために必要な機能です。

WebinarMakerはデフォルトの動作として、申し込みを受け付けると必要な情報を含むサンクスメールを申込者のメールアドレス宛に送信します。
この時送信されるサンクスメールの差出人およびメールアドレスはWebinarMakerが保有するアドレスです。
通常、ウェビナーをセットアップするときにメールの送信設定および配信設定を一切していなくても、このサンクスメールは送信され、ウェビナーを実施することができます。

サンクスメールはWebinarMakerの定型文を使用する以外に、独自ドメインによる独自のメールメッセージを送信できます。
これは、WebinarMakerが送信するサンクスメールと同時に独自のサンクスメールを送信する方法と、WebinarMakerのサンクスメールを送信せずに独自のサンクスメールだけを送信するようにカスタマイズできます。
ただし、後者の場合は視聴用URLを送信するなど、必要な情報が含まれるよう適切に設定する必要があります。

#### サンクスメールの設定

独自のサンクスメールは件名と本文によって作成できます。
ウェビナーのメール配信設定ページにある、独自サンクスメールの「設定する」を選択して、表示されるダイアログに入力します。

  * `サブジェクト` サンクスメールの件名を入力します。この値には[マクロ](#メールメッセージのマクロ)を使用できます。
  * `本文` サンクスメールの本文を入力します。この値には[マクロ](#メールメッセージのマクロ)を使用できます。

独自のサンクスメールを設定すると、独自ドメインによるメールの送信設定に従って、サンクスメールが送信されます。

サンクスメール設定の「削除する」を選択すると、独自のサンクスメールの配信は止まります。

#### WebinarMakerのサンクスメール無効

独自のサンクスメールは設定の有無にかかわらず、WebinarMakerが送信するデフォルトのサンクスメールを送信します。
独自のサンクスメールを設定すると、2種類のサンクスメールが送信されます。

WebinarMakerのサンクスメールを無効にすると、そのウェビナーに申し込みが行われてもデフォルトのサンクスメールを送信しなくなります。
2種類のサンクスメールを、1つの独自のサンクスメールにまとめることができます。
この場合、独自のサンクスメールには、[マクロ](#メールメッセージのマクロ)を使用して視聴用URLを通知できるように設定すべきです。

#### メール配信の概要

メール配信とは、申し込みされたウェビナー開催時間を基準にした特定の相対時間に、独自のメールを申込者に送信する機能です。
これは、ウェビナー毎に、複数のメール配信を作成できます。
ウェビナー開始前に関連する情報の提供や、終了後の視聴者に対してフォローアップのメールを送信する場合に有効です。

メールが送信される時間は、ウェビナー開催時間に対して、分単位による相対時間で決定します。
例えば、ウェビナー開始の1440分前（24時間前）や180分後（3時間後）といったように指定します。
申込者が選択したウェビナー開催時間に合わせて送信されるため、実際に送信される時間はウェビナー開催時間毎に異なります。

相対時間は、マイナスの時間を指定するとウェビナー開始前となり、プラス開始後となります。
ただし、基準となる時間はウェビナー開始時間であり、ウェビナー終了時点ではありません。
ウェビナー終了後を指定するためにプラスの時間を指定するときは、ウェビナーの時間を加算した上で指定する必要があります。
例えば、2時間(120分）のウェビナーに対して終了30分後にメールを送信する場合、150を指定します。

ウェビナー開始後に送信するメールでは、送信対象の条件として、ウェビナーを試聴したかどうかを指定できます。
これはウェビナーを試聴した人を対象にフォローアップのメールを送信し、未試聴の人を対象に再放送の案内を送信するといった場合に有効です。

メールの件名と本文には[マクロ](#メールメッセージのマクロ)を含めることができます。
このマクロを使用すると、メールメッセージの中で申込者の情報に置換できます。

#### メール配信の作成

メール配信は画面右下の「＋メール配信」を選択して、表示されるダイアログから作成します。

  * `開催時分差` メールの送信時間を指定します。
    これは申込者が選択したウェビナー開催時間に対して、相対時間を分単位で指定します。
    ウェビナー開始前の場合は、マイナスの時間を指定します。
    例えば`-1440`と入力すると、1440分前であり、24時間前を意味します。
    `180` を入力すると、ウェビナー開始の180分後であり、3時間後を意味します。
    この場合、ウェビナー終了後ではなく、開始後であることに注意してください。
  * `視聴状態` 送信対象の条件として、視聴状態を指定します。
    `試聴なし`または`試聴あり`を指定する場合、ウェビナーが開始され試聴有無が計測できた後に有効となります。
    主にウェビナーが終了した後に使用できます。
  * `サブジェクト` サンクスメールの件名を入力します。この値には[マクロ](#メールメッセージのマクロ)を使用できます。
  * `本文` サンクスメールの本文を入力します。この値には[マクロ](#メールメッセージのマクロ)を使用できます。

#### メール配信の一覧

作成したメール配信は一覧画面に表示され、「編集」「テスト送信」「削除」の操作ができます。

テスト送信では、架空の申込者の名前とメールアドレスを指定して、メール配信の内容をテストします。
このテスト送信では、ログインに使用しているアカウントのメールアドレス宛に送信されます。
架空の申込者として入力するメールアドレスではありません。
入力した架空の申込者情報はマクロの展開にのみ、使用するものです。

#### メールメッセージのマクロ

メール配信およびサンクスメールのサブジェクトと本文では、送信先の対象に対応する値に置換するマクロを使用できます。
マクロは`{{ '{{' }}`から始まり、`{{ }}}}`で終わる部分です。
使用できるマクロと対応する値は次の通りです。

| マクロ                                  | 対応する値                       | 使用できるメール               |
| --------------------------------------- | -------------------------------- | ------------------------------ |
| `{{ '{{' }} .Name {{ }}}}`              | 申込者の名前                     | サンクスメール配信、メール配信 |
| `{{ '{{' }} .Phone {{ }}}}`             | 申込者の電話番号                 | サンクスメール配信             |
| `{{ '{{' }} .Email {{ }}}}`             | 申込者のメールアドレス           | サンクスメール配信、メール配信 |
| `{{ '{{' }} .AccountName {{ }}}}`       | ウェビナー主催者の名前           | サンクスメール配信             |
| `{{ '{{' }} .WebinarTitle {{ }}}}`      | ウェビナーのタイトル             | サンクスメール配信             |
| `{{ '{{' }} .WebinarURL {{ }}}}`        | 視聴用URL                        | サンクスメール配信、メール配信 |
| `{{ '{{' }} .ScheduleTime {{ }}}}`      | ウェビナー開催時間               | サンクスメール配信、メール配信 |
| `{{ '{{' }} .AccountEmail {{ }}}}`      | ウェビナー主催者のメールアドレス | サンクスメール配信             |

## 独自ドメインによるメール配信

WebinarMakerは申込みユーザに対して、独自のメールを配信できる機能があります。
これはウェビナーの開始前および終了後に関連情報をお知らせする手段を提供します。
また申込み直後に送信されるサンクスメールを独自の内容に変更できます。

これらのメール送信にはアカウント自身が保有するドメインおよびメールアドレスを使用します。
webinarmakerのメールアドレスは使用しません。
つまりウェビナー終了後に申し込みユーザに対するフォーローアップと同じメールアドレスを使用できます。

ここで配信されるメールメッセージには申し込みユーザごとに固有の情報を埋め込むことができます。
本文内で適切な注釈部分を申し込みユーザの名前やウェビナー開催時間などに置換します。

### 開始方法

ウェビナーの申込者に対して独自のメールを配信する基本的なステップを開始します。
アカウントが保有するドメインからメールを送信するための設定と、ウェビナーの申込者に対して送信するメールメッセージの配信設定を行います。

**事前に用意する情報**

このステップを開始する前に、使用する独自ドメインのメールアドレスからメールを送信するためのSMTP情報を用意します。
`SMTPホスト名`、`SMTPポート番号`、`SMTPユーザ名`、`SMTPパスワード`が必要です。
そして送信元となる差出人メールアドレスを決定します。

#### ステップ1: 独自ドメインによるメールの送信設定を行う

まず、アカウントが保有するドメインからメールを送信するための設定を行います。
これはすべてのウェビナーで共通した設定項目であり、アカウントに対して一度だけ行う作業です。

**メールの配信設定を行うには**

  1. WebinarMakerにログインします。
  2. 管理画面の右上にあるアカウント名を選択した後、「メール送信設定」を選択してメール送信設定画面にアクセスします。
     またはログインした後に[こちらの画面](https://webinarmaker.jp/dashboard/account/send_mail_info)移動します。
  3. 事前に用意した情報に合わせて情報を入力します。
  4. 「更新」を選択して、設定を完了します。

**設定した情報でメールが送信できるか確認する**

これは差出人メールアドレスとSMTP情報に従ってメールを送信し、ログインに使用しているメールアドレス宛にテストメールを送信します。

  1. 上記のメール配信設定を完了した後に、「テストメールを送信する」を選択します。
  2. ログインに使用しているメールアドレスに対して、テストメールの受信を確認します。

これで、メールの送信設定が完了します。
続いて、ウェビナーごとにメールの配信設定を行います。

#### ステップ2: ウェビナーのメール配信設定を行う

次にウェビナーごとに独自のメールメッセージを申し込みユーザに対して送信するための配信設定を行います。
このステップでは例として、ウェビナー開始の12時間前に申し込みユーザの名前が入った任意のメッセージを送信するように設定します。

**メールの配信設定を行うには**

  1. メールの送信設定を行うウェビナーの管理画面に移動します。
  2. 画面上部の「メール配信」を選択します。
  3. 画面右下の「 + メール配信」を選択して、メール配信の作成ダイアログを表示します。
  4. `開催時分差` メールを送信する時間をウェビナー開始時間との時間差を分単位で入力します。
     ここでは `-120` と入力します。
  5. `視聴状態` すべてを選択します。
  6. `サブジェクト` メールの件名を入力します。
  7. `本文` メールの本文を入力します。このステップでは例として次を入力します。
     ```
     {{ '{{' }} .Name {{ }}}} 様
     このたびは ウェビナー {{ '{{' }} .Title {{ }}}} に申し込みいただきありがとうございます。
     ウェビナー開始の2時間前となりましたので、お知らせいたします。

     ...
     ```
  8. 「作成」を選択して、配信設定を完了します。

このステップにより、ウェビナーに申し込みをしたユーザに対して、開催日時の2時間前にメールが送信されるようになります。
本文内の`{{ '{{' }} .Name {{ }}}}`や`{{ '{{' }} .Title {{ }}}}`にはそれぞれ申込者ユーザ名とウェビナーの名前に置換されます。
これらのマクロとそれに対応して置換される値の詳細は[メールメッセージのマクロ](#メールメッセージのマクロ)を参照してください。

これで、メールの配信設定が完了します。

メールの配信設定では、ウェビナーの開始後にもメールを送信することもできます。
またその際は、ウェビナーを視聴した視聴者と、視聴していない申し込みユーザを分けて、それぞれ異なるメール送信できます。
さらに、申し込み直後に送信されるサンクスメールの内容を、メール配信設定と同様に独自のメールメッセージに変更できます。
これらの詳細は、[メール配信](#メール配信)を参照してください。
